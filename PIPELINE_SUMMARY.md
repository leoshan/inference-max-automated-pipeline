# InferenceMAX è‡ªåŠ¨åŒ–æ•°æ®ç®¡é“ç³»ç»Ÿæ€»ç»“

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

åŸºäºå‰é¢å®Œæˆçš„æ•°æ®æŠ“å–å’Œå¤„ç†å·¥ä½œï¼Œæˆ‘å·²ç»åˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„è‡ªåŠ¨åŒ–æ•°æ®ç®¡é“ç³»ç»Ÿï¼Œå¯ä»¥å°†æ•´ä¸ªæµç¨‹å›ºåŒ–å¹¶å®ç°å®šæœŸè‡ªåŠ¨æ‰§è¡Œã€‚

## ğŸ“Š åŸå§‹æµç¨‹å›é¡¾

æˆ‘ä»¬ä¹‹å‰å®Œæˆäº†ä»¥ä¸‹4ä¸ªæ­¥éª¤ï¼š

1. **ç½‘é¡µæ•°æ®çˆ¬å–** (`comprehensive_scraper.py`)
   - ä» InferenceMAX ç½‘ç«™çˆ¬å–9ä¸ªæ¨¡å‹Ã—åºåˆ—ç»„åˆçš„JSONæ•°æ®
   - æ¯ä¸ªç»„åˆ4ä¸ªJSONå“åº”ï¼Œå…±36ä¸ªåŸå§‹æ–‡ä»¶

2. **æ•°æ®æ¸…ç†** (`clean_json_files.py`)
   - ç§»é™¤æ— æ•ˆçš„å°æ–‡ä»¶ï¼ˆ18ä¸ªï¼‰
   - ä¿ç•™18ä¸ªé«˜è´¨é‡æ–‡ä»¶ï¼ˆ1.3MBæ•°æ®ï¼‰

3. **CSVè½¬æ¢** (`convert_to_separated_csv.py`)
   - å°†JSONè½¬æ¢ä¸ºä¸¤ä¸ªåˆ†ç¦»çš„CSVæ–‡ä»¶
   - `inference_max_interactivity.csv` - äº¤äº’å¼æ•°æ®
   - `inference_max_e2e.csv` - ç«¯åˆ°ç«¯æ•°æ®

4. **æ•°æ®åˆå¹¶** (`join_csv_files.py`)
   - åŸºäº6ä¸ªé”®å­—æ®µè¿›è¡Œjoinæ“ä½œ
   - é‡å‘½åxã€yå­—æ®µåŒºåˆ†æ¥æº
   - ç”Ÿæˆæœ€ç»ˆçš„åˆå¹¶CSVæ–‡ä»¶

## ğŸ¤– è‡ªåŠ¨åŒ–ç®¡é“ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒç»„ä»¶

```
inference_max_pipeline/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ pipeline_config.yaml          # é…ç½®ç®¡ç†
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ inference_max_pipeline.py    # ä¸»ç®¡é“æ§åˆ¶è„šæœ¬
â”‚   â”œâ”€â”€ scheduler.py                  # è°ƒåº¦å™¨
â”‚   â””â”€â”€ setup.py                      # å®‰è£…è„šæœ¬
â”œâ”€â”€ logs/                              # æ‰§è¡Œæ—¥å¿—
â”œâ”€â”€ data_archive/                      # å†å²ç‰ˆæœ¬å½’æ¡£
â””â”€â”€ reports/                           # æ‰§è¡ŒæŠ¥å‘Š
```

### å…³é”®ç‰¹æ€§

1. **å®Œæ•´æµç¨‹è‡ªåŠ¨åŒ–**
   - ä¸€é”®æ‰§è¡Œæ‰€æœ‰4ä¸ªæ­¥éª¤
   - è‡ªåŠ¨é”™è¯¯å¤„ç†å’Œé‡è¯•
   - è¯¦ç»†æ—¥å¿—è®°å½•

2. **ç‰ˆæœ¬æ§åˆ¶å’Œå½’æ¡£**
   - æ¯æ¬¡æ‰§è¡Œåˆ›å»ºç‰ˆæœ¬å¿«ç…§
   - æ”¯æŒå‹ç¼©å­˜å‚¨
   - å¯é…ç½®çš„ç‰ˆæœ¬ä¿ç•™ç­–ç•¥

3. **è°ƒåº¦å’Œç›‘æ§**
   - æ”¯æŒå®šæ—¶è‡ªåŠ¨æ‰§è¡Œ
   - ç³»ç»ŸæœåŠ¡é›†æˆ
   - é€šçŸ¥æœºåˆ¶ï¼ˆå¯é€‰ï¼‰

4. **é…ç½®åŒ–**
   - YAMLé…ç½®æ–‡ä»¶
   - çµæ´»çš„å‚æ•°è°ƒæ•´
   - ç¯å¢ƒé€‚é…

## ğŸš€ å¿«é€Ÿä½¿ç”¨

### 1. å®‰è£…ç³»ç»Ÿ

```bash
cd /root/semi-bench
python inference_max_pipeline/scripts/setup.py
```

### 2. å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# äº¤äº’å¼èœå•å¯åŠ¨
./run_pipeline.sh

# æˆ–ç›´æ¥æ‰§è¡Œä¸€æ¬¡
python inference_max_pipeline/scripts/scheduler.py --once

# æˆ–å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼
python inference_max_pipeline/scripts/scheduler.py --daemon
```

### 3. è®¾ç½®å®šæ—¶æ‰§è¡Œ

#### systemdæœåŠ¡ï¼ˆæ¨èï¼‰
```bash
sudo systemctl enable inference-max-pipeline
sudo systemctl start inference-max-pipeline
```

#### crontab
```bash
crontab -e
# æ·»åŠ ï¼šæ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œ
0 2 * * * cd /root/semi-bench && python inference_max_pipeline/scripts/scheduler.py --once
```

## ğŸ“ æ–‡ä»¶å¤ç”¨æƒ…å†µ

### å¯ç›´æ¥ä½¿ç”¨çš„åŸå§‹æ–‡ä»¶
ä»¥ä¸‹æ–‡ä»¶æ— éœ€ä¿®æ”¹ï¼Œç›´æ¥åœ¨ç®¡é“ä¸­ä½¿ç”¨ï¼š

1. **comprehensive_scraper.py** - æ•°æ®çˆ¬å–è„šæœ¬
2. **clean_json_files.py** - æ•°æ®æ¸…ç†è„šæœ¬
3. **convert_to_separated_csv.py** - CSVè½¬æ¢è„šæœ¬
4. **join_csv_files.py** - CSVåˆå¹¶è„šæœ¬

### æ–°å¢çš„æ ¸å¿ƒæ–‡ä»¶

1. **inference_max_pipeline.py** - ä¸»æ§åˆ¶è„šæœ¬ï¼Œæ•´åˆæ‰€æœ‰æ­¥éª¤
2. **scheduler.py** - è°ƒåº¦å™¨ï¼Œæ”¯æŒå®šæ—¶æ‰§è¡Œ
3. **pipeline_config.yaml** - é…ç½®æ–‡ä»¶
4. **setup.py** - å®‰è£…å’Œç¯å¢ƒæ£€æŸ¥è„šæœ¬
5. **run_pipeline.sh** - å¿«é€Ÿå¯åŠ¨èœå•è„šæœ¬

## ğŸ”§ é…ç½®è¯´æ˜

### ä¸»è¦é…ç½®é¡¹

```yaml
# æ•°æ®æºé…ç½®
source:
  base_url: "https://inferencemax.semianalysis.com/"
  timeout: 600
  retry_attempts: 3

# ç›®æ ‡é…ç½®
targets:
  models: ["Llama 3.3 70B Instruct", "gpt-oss 120B", "DeepSeek R1 0528"]
  sequences: ["1K / 1K", "1K / 8K", "8K / 1K"]

# è°ƒåº¦é…ç½®
scheduling:
  enabled: true
  cron_expression: "0 2 * * *"  # æ¯å¤©å‡Œæ™¨2ç‚¹

# ç‰ˆæœ¬æ§åˆ¶
versioning:
  enabled: true
  max_versions: 30
  compression: true
```

## ğŸ“ˆ è¾“å‡ºæ–‡ä»¶

### ä¸»è¦è¾“å‡º
- `json_data/inference_max_merged.csv` - æœ€ç»ˆåˆå¹¶çš„æ•°æ®é›†
- `json_data/inference_max_interactivity.csv` - äº¤äº’å¼æ•°æ®
- `json_data/inference_max_e2e.csv` - ç«¯åˆ°ç«¯æ•°æ®

### å†å²å½’æ¡£
- `inference_max_pipeline/data_archive/version_YYYYMMDD_HHMMSS/` - æ¯æ¬¡æ‰§è¡Œçš„å®Œæ•´å¿«ç…§

### æŠ¥å‘Šå’Œæ—¥å¿—
- `inference_max_pipeline/reports/` - æ‰§è¡ŒæŠ¥å‘Š
- `inference_max_pipeline/logs/` - è¯¦ç»†æ—¥å¿—

## ğŸ› ï¸ ç»´æŠ¤å’Œç›‘æ§

### æ—¥å¸¸æ£€æŸ¥
```bash
# æŸ¥çœ‹æœ€è¿‘æ‰§è¡ŒçŠ¶æ€
./run_pipeline.sh  # é€‰æ‹©é€‰é¡¹4æŸ¥çœ‹æ—¥å¿—

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status inference-max-pipeline

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
du -sh inference_max_pipeline/
```

### æ•…éšœæ’é™¤
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
tail -f inference_max_pipeline/logs/pipeline_*.log

# é‡æ–°å®‰è£…
python inference_max_pipeline/scripts/setup.py

# æµ‹è¯•ç®¡é“
python inference_max_pipeline/scripts/scheduler.py --test
```

## ğŸ“‹ æ‰§è¡Œæµç¨‹è¯¦è§£

### è‡ªåŠ¨åŒ–æµç¨‹å›¾

```
å¼€å§‹
  â†“
[æ•°æ®çˆ¬å–] - comprehensive_scraper.py
  â†“
[æ•°æ®æ¸…ç†] - clean_json_files.py
  â†“
[CSVè½¬æ¢] - convert_to_separated_csv.py
  â†“
[CSVåˆå¹¶] - join_csv_files.py
  â†“
[ç‰ˆæœ¬å½’æ¡£] - ä¿å­˜å†å²ç‰ˆæœ¬
  â†“
[ç”ŸæˆæŠ¥å‘Š] - æ‰§è¡Œæ‘˜è¦
  â†“
å®Œæˆ
```

### é”™è¯¯å¤„ç†
- æ¯ä¸ªæ­¥éª¤éƒ½æœ‰ç‹¬ç«‹çš„é”™è¯¯æ£€æµ‹
- å¤±è´¥æ—¶è®°å½•è¯¦ç»†æ—¥å¿—
- æ”¯æŒè‡ªåŠ¨é‡è¯•æœºåˆ¶
- å¤±è´¥æ—¶å‘é€é€šçŸ¥ï¼ˆå¯é€‰ï¼‰

## ğŸŠ ç³»ç»Ÿä¼˜åŠ¿

1. **å®Œå…¨è‡ªåŠ¨åŒ–** - æ— éœ€äººå·¥å¹²é¢„
2. **å¯é ç¨³å®š** - é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
3. **å¯é…ç½®** - çµæ´»çš„å‚æ•°è°ƒæ•´
4. **å¯è¿½æº¯** - å®Œæ•´çš„ç‰ˆæœ¬å†å²
5. **æ˜“ç»´æŠ¤** - æ¸…æ™°çš„æ—¥å¿—å’ŒæŠ¥å‘Š
6. **å¯æ‰©å±•** - æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºå®šåˆ¶

## ğŸ“ ä½¿ç”¨å»ºè®®

### é¦–æ¬¡ä½¿ç”¨
1. è¿è¡Œå®‰è£…è„šæœ¬ï¼š`python inference_max_pipeline/scripts/setup.py`
2. æµ‹è¯•æ‰§è¡Œï¼š`./run_pipeline.sh` é€‰æ‹©é€‰é¡¹3æµ‹è¯•
3. æ‰§è¡Œä¸€æ¬¡ï¼šé€‰æ‹©é€‰é¡¹1éªŒè¯å®Œæ•´æµç¨‹
4. è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼šæ ¹æ®éœ€è¦é€‰æ‹©systemdæˆ–crontab

### æ—¥å¸¸ç»´æŠ¤
- å®šæœŸæ£€æŸ¥æ—¥å¿—æ–‡ä»¶
- ç›‘æ§ç£ç›˜ç©ºé—´ä½¿ç”¨
- æ ¹æ®éœ€è¦è°ƒæ•´è°ƒåº¦é¢‘ç‡
- å¤‡ä»½é‡è¦é…ç½®å’Œæ•°æ®

### å®šåˆ¶æ‰©å±•
- ä¿®æ”¹ `pipeline_config.yaml` è°ƒæ•´å‚æ•°
- åœ¨ä¸»ç®¡é“è„šæœ¬ä¸­æ·»åŠ æ–°çš„å¤„ç†æ­¥éª¤
- æ‰©å±•é€šçŸ¥æœºåˆ¶é›†æˆå…¶ä»–ç³»ç»Ÿ

---

## ğŸ‰ æ€»ç»“

åŸºäºå‰é¢å®Œæˆçš„æ•°æ®æŠ“å–å’Œå¤„ç†å·¥ä½œï¼Œæˆ‘æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„è‡ªåŠ¨åŒ–æ•°æ®ç®¡é“ç³»ç»Ÿã€‚è¿™ä¸ªç³»ç»Ÿå›ºåŒ–äº†æ•´ä¸ªæµç¨‹ï¼Œå®ç°äº†ï¼š

âœ… **å®Œå…¨è‡ªåŠ¨åŒ–** - ä¸€é”®æ‰§è¡Œæ‰€æœ‰æ­¥éª¤
âœ… **å®šæœŸæ›´æ–°** - æ”¯æŒå®šæ—¶è‡ªåŠ¨æ‰§è¡Œ
âœ… **ç‰ˆæœ¬ç®¡ç†** - å®Œæ•´çš„å†å²è¿½æº¯
âœ… **ç›‘æ§å‘Šè­¦** - å®æ—¶çŠ¶æ€ç›‘æ§
âœ… **æ˜“äºç»´æŠ¤** - æ¸…æ™°çš„æ–‡æ¡£å’Œæ—¥å¿—

ç°åœ¨æ‚¨å¯ä»¥é€šè¿‡ç®€å•çš„å‘½ä»¤å°±èƒ½å®šæœŸè·å–æœ€æ–°çš„ InferenceMAX æ•°æ®ï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨çˆ¬å–ã€æ¸…ç†ã€è½¬æ¢å’Œåˆå¹¶æ•°æ®ï¼Œå¹¶ä¿å­˜å†å²ç‰ˆæœ¬ä¾›åˆ†æä½¿ç”¨ã€‚